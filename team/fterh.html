<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Fabian Terh Jun Wei - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level3">AB-3</a></li><li class="nav-item"><a class="nav-link active" href="../index.html">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">AddressBook-Level4</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/se-edu/addressbook-level4"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Fabian Terh Jun Wei - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-infinity-machine"><a class="link" href="#project-infinity-machine">PROJECT: Infinity Machine</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Infinity Machine is a source manager to be used by tech-savvy university students who are comfortable with the command line interface (CLI).
It is an application for the efficient storage, management, and retrieval of research information (sources).
It is privacy-focused, powerful, and flexible.
The user interacts with it using a CLI, and it has a GUI created with JavaFX. It is written in Java.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: added <strong>the ability to add, remove, and manage command aliases</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: allows the user to define custom aliases for commands, which persist across sessions</p>
</li>
<li>
<p>Justification: This feature improves the product significantly because a user can:
(1) create custom memorable alises for any of the existing commands;
(2) work more efficiently by creating shortcuts for lengthy and commonly-used commands</p>
</li>
<li>
<p>Highlights: This enhancement affects the way user input is parsed and executed,
both for existing commands and commands to be added in the future.
It required an extensive analysis of various design approaches.
The implementation was challenging because:</p>
<div class="ulist">
<ul>
<li>
<p>There are different classes of commands that are parsed and handled in different ways.
This enhancement must be agnostic to these various classes of commands,
and must potentially work with any new future classes.</p>
</li>
<li>
<p>This enhancement must both be backward-compatible with existing commands and also transparent to implementors of future commands.
In other words, this enhancement will work seamlessly with any future command implementations, even if the implementors have no knowledge of this enhancement.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: added a panic/unpanic mode command that allows the user to quickly hide the current list of sources from display.</p>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103-AY1819S2-W13-3/main/blob/master/src/main/java/seedu/address/logic/parser/AliasManager.java">Functional code 1</a>][<a href="https://github.com/CS2103-AY1819S2-W13-3/main/blob/master/src/main/java/seedu/address/storage/ConcreteAliasStorage.java">Functional code 2</a>][<a href="https://github.com/CS2103-AY1819S2-W13-3/main/blob/master/src/test/java/seedu/address/logic/parser/AliasManagerTest.java">Test code 1</a>]</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Co-managed releases <code>v1.1</code> - <code>v1.3</code> (3 releases) on GitHub</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Updated codebase to morph from AddressBook to Infinity Machine (Pull requests <a href="https://github.com/CS2103-AY1819S2-W13-3/main/pull/89">#89</a>, <a href="https://github.com/CS2103-AY1819S2-W13-3/main/pull/93">#93</a>, <a href="https://github.com/CS2103-AY1819S2-W13-3/main/pull/98">#98</a>)</p>
</li>
<li>
<p>Included reposense (Pull request <a href="https://github.com/CS2103-AY1819S2-W13-3/main/pull/117">#117</a>)</p>
</li>
<li>
<p>Updated existing tests to include integration tests with major enhancement (Pull request <a href="https://github.com/CS2103-AY1819S2-W13-3/main/pull/132">#132</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>PRs reviewed (with non-trivial review comments): <a href="https://github.com/CS2103-AY1819S2-W13-3/main/pull/54">#54</a>, <a href="https://github.com/CS2103-AY1819S2-W13-3/main/pull/69">#69</a></p>
</li>
<li>
<p>Contributed to forum discussions (examples:  <a href="https://github.com/nus-cs2103-AY1819S2/forum/issues/52">1</a>, <a href="https://github.com/nus-cs2103-AY1819S2/forum/issues/64">2</a>, <a href="https://github.com/nus-cs2103-AY1819S2/forum/issues/69">3</a>, <a href="https://github.com/nus-cs2103-AY1819S2/forum/issues/51">4</a>,
<a href="https://github.com/nus-cs2103-AY1819S2/forum/issues/43">5</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="disabling-panic-mode-code-unpanic-code"><a class="link" href="#disabling-panic-mode-code-unpanic-code">Disabling panic mode : <code>unpanic</code></a></h3>
<div class="paragraph">
<p>Restores the user&#8217;s original data.<br>
Format: <code>unpanic</code></p>
</div>
<div class="paragraph">
<p>This reverses the effect of panic mode by restoring the user&#8217;s original data.
The restorated is reflected on the disk too; the JSON file is reset to its original state and will now track the original data store.</p>
</div>
</div>
<div class="sect2">
<h3 id="command-aliases-code-alias-code"><a class="link" href="#command-aliases-code-alias-code">Command aliases : <code>alias</code></a></h3>
<div class="paragraph">
<p>Note: Aliases do not work in recycle-bin mode.</p>
</div>
<div class="sect3">
<h4 id="creating-an-alias-code-alias-code"><a class="link" href="#creating-an-alias-code-alias-code">Creating an alias: <code>alias</code></a></h4>
<div class="paragraph">
<p>Allows the user to create aliases create aliases for commands.<br>
Format: <code>alias COMMAND ALIAS</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>alias count c</code> (<code>c</code> is now a valid pseudo-command that works exactly like <code>count</code>)</p>
</li>
<li>
<p><code>alias invalid i</code> (<code>i</code> is now an invalid pseudo-command that works exactly like <code>invalid</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The user is responsible for ensuring that he is creating aliases for valid commands.
The successful creation of an alias does not provide any guarantee of the validity of the associated command.</p>
</div>
<div class="paragraph">
<p>If the user attempts to add an alias that has already been added, the old one will be overwritten. For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>alias count c</code></p>
</li>
<li>
<p><code>alias invalid c</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>c</code> is now an alias for the invalid command <code>invalid</code>.</p>
</div>
<div class="paragraph">
<p>The command may not be another alias. The alias may not be a command.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>alias count ct</code> (<code>ct</code> is now an alias for <code>count</code>)</p>
</li>
<li>
<p><code>alias ct c</code> (this is invalid because <code>ct</code> is another alias)</p>
</li>
<li>
<p><code>alias count list</code> (this is invalid because <code>list</code> is a command)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The alias must be syntatically valid. A valid syntax may only contain alphabets.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>alias list l</code> (valid)</p>
</li>
<li>
<p><code>alias count ct</code> (valid)</p>
</li>
<li>
<p><code>alias clear $</code> (invalid)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="removing-an-alias-code-alias-rm-code"><a class="link" href="#removing-an-alias-code-alias-rm-code">Removing an alias: <code>alias-rm</code></a></h4>
<div class="paragraph">
<p>Allows the user to remove previously-defined aliases.<br>
Format: <code>alias-rm ALIAS</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>alias count c</code> (<code>c</code> is now an alias for <code>count</code>)</p>
</li>
<li>
<p><code>alias-rm c</code> (<code>c</code> is no longer an alias for <code>count</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the user attempts to remove a non-existent alias, nothing happens.
<code>alias-rm</code> only guarantees that after it is performed, the alias argument does not exist.</p>
</div>
</div>
<div class="sect3">
<h4 id="listing-all-aliases-code-alias-ls-code"><a class="link" href="#listing-all-aliases-code-alias-ls-code">Listing all aliases: <code>alias-ls</code></a></h4>
<div class="paragraph">
<p>Lists all defined aliases and their associated commands.<br>
Format: <code>alias-ls</code></p>
</div>
</div>
<div class="sect3">
<h4 id="clearing-all-aliases-code-alias-clear-code"><a class="link" href="#clearing-all-aliases-code-alias-clear-code">Clearing all aliases: <code>alias-clear</code></a></h4>
<div class="paragraph">
<p>Clears all defined aliases and their associaetd commands.<br>
Format: <code>alias-clear</code></p>
</div>
</div>
<div class="sect3">
<h4 id="alias-persistence"><a class="link" href="#alias-persistence">Alias persistence</a></h4>
<div class="paragraph">
<p>Aliases are persistent across usage sessions.
When an alias is created or removed, this is recorded to disk.
No action is required on the user&#8217;s part.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="panic-mode-feature"><a class="link" href="#panic-mode-feature">Panic Mode feature</a></h3>
<div class="paragraph">
<p>The panic mode feature allows the user to temporarily hide user data and replace it with dummy data.</p>
</div>
<div class="sect3">
<h4 id="overview-2"><a class="link" href="#overview-2">Overview</a></h4>
<div class="paragraph">
<p>The user&#8217;s original data is replaced by dummy data for the duration that panic mode is enabled.
Enabling panic mode can be thought of as "stashing" the user&#8217;s data temporarily in memory.
This is reflected both on-screen and on-disk.
On the screen, the list of sources is replaced by an empty dummy list.
On disk, the contents of the JSON file storing the user&#8217;s sources is replaced by dummy content that tracks and reflects the dummy data.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<div class="paragraph">
<p>This is implemented by "swapping" the source manager with an empty dummy source manager.
This "swap" is carried out by storing the original source manager in a private variable <code>sourceManagerBackup</code>, and then resetting the original source manager with a new empty source manager instance.
We also set the boolean variable <code>panicMode = true</code>.</p>
</div>
<div class="paragraph">
<p>When the user disables panic mode, we restore the original source manager, and reset <code>panicMode = false</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="elaboration"><a class="link" href="#elaboration">Elaboration</a></h4>
<div class="paragraph">
<p>We use a boolean variable <code>panicMode</code> to keep track of whether panic mode has been activated.
This is to guard against the scenario of entering panic mode while already in panic mode, which results in permanent data loss.</p>
</div>
<div class="paragraph">
<p>This is because when panic mode is activated, we store the original source manager in the private variable <code>sourceManagerBackup</code>, and reset the original source manager, as described above.</p>
</div>
<div class="paragraph">
<p>Therefore, should panic mode be activated while already in panic mode, <code>sourceManagerBackup</code> will now store the dummy source manager, and the original source manager will be deallocated and eventually purged from memory by Java&#8217;s garbage collector.</p>
</div>
<div class="paragraph">
<p>Since the JSON file on disk automatically tracks the source manager through the observer pattern, it automatically updates to track and reflect the data in the dummy source manager.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="command-alias-feature"><a class="link" href="#command-alias-feature">Command Alias feature</a></h3>
<div class="paragraph">
<p>The command alias feature allows users to use shorthand commands to rapidly "get things done", for instance using <code>a</code> instead of <code>add</code>, or <code>c</code> instead of <code>count</code>.</p>
</div>
<div class="paragraph">
<p>Users may do one of the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a new alias</p>
</li>
<li>
<p>Remove an existing alias</p>
</li>
<li>
<p>List all aliases</p>
</li>
<li>
<p>Clear all aliases</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In designing and implementing this feature, the overarching principle is to maximize transparency and compatibility.
This means that it should be transparent to future developers/maintainers (they should not need to understand how this feature works, or be subject to any design constraints).
It should also be backwards-compatible with existing commands (existing code should not be modified).
This allows for maximum extensibility and maintainability.</p>
</div>
<div class="sect3">
<h4 id="overview-3"><a class="link" href="#overview-3">Overview</a></h4>
<div class="paragraph">
<p>This feature is backed by an in-memory database implemented as a Java <code>HashMap&lt;String, String&gt;</code>.
A HashMap is chosen for the following reasons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adding and removing an alias is straightforward (using Java HashMap API) and efficient (<code>O(1)</code> time)</p>
</li>
<li>
<p>Checking whether an alias exists (membership) is efficient (<code>O(1)</code> time)</p>
</li>
<li>
<p>HashMaps naturally facilitate the process of associating a key-value pair</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Alternative</strong>: No reasonable alternative implementations exist.
For instance, using a Java <code>ArrayList</code> adds additional code complexity, as there needs to be a way of associating a key with a value.
For instance, we could create an <code>ArrayList&lt;AliasWrapper&gt;</code>, where <code>AliasWrapper</code> is a wrapper class to associate 2 strings.
However, that is inelegant and inefficient, as opposed to a <code>HashMap</code> solution.
Furthermore, checking for membership in an <code>ArrayList</code> is an <code>O(N)</code> operation in an unsorted list, or <code>O(log(N))</code> in a sorted list.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AliasManagerClassDiagram.png" alt="AliasManagerClassDiagram" width="800">
</div>
</div>
</div>
<div class="sect3">
<h4 id="aliasing-feature-implementation"><a class="link" href="#aliasing-feature-implementation">Aliasing feature: implementation</a></h4>
<div class="paragraph">
<p>Meta-commands are not implemented as regular commands.
Regular commands inherit <code>Command</code>, and operate on the model (their main method is <code>public CommandResult execute(Model model, CommandHistory history) throws CommandException {}</code>).
On the other hand, meta-commands operate on an AliasManager object.
Therefore, it is desirable to draw a distinction between regular commands and meta-commands throughout the codebase.</p>
</div>
<div class="paragraph">
<p>To implement aliasing, we first create an AliasManager interface to practice design by contract.
AliasManager is command-agnostic.
It operates through its API (specified in the interface), and is not concerned with the choice of meta-commands (e.g. <code>alias-rm</code> vs <code>alias-remove</code>).
We also created a class ConcreteAliasManager to implement the AliasManager interface.</p>
</div>
<div class="paragraph">
<p>As for SourceManagerParser, we created an alternative constructor to accept an AliasManager object to support dependency injection.
Otherwise, the default constructor instantiates ConcreteAliasManager.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We chose to create the AliasManager interface to decouple SourceManagerParser and ConcreteAliasManager.
In normal operation, we would always use ConcreteAliasManager.
However, working through an interface (and implementing an alternative constructor) provides the flexibility to swap out ConcreteAliasManager for an alternative AliasManager implementation, such as a stub, for unit testing. This improves testability, maintainability, and extensibility.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To implement the meta-commands, we create an abstract superclass <code>AliasMetaCommandParser</code> that implements <code>Parser&lt;DummyCommand&gt;</code>.
This serves as an alternative class of command parsers (for meta-commands), in contrast to the regular ones which are of the type <code>Parser&lt;? extends Command&gt;</code>.
(As mentioned above,  meta-commands are fundamentally different from regular commands, and it is desirable to maintain this distinction.)
The key difference between the two is that an AliasMetaCommandParser has a field storing a reference to the AliasManager object which it requires to interact with (e.g. when adding/removing an alias).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Parsers are expected to return a Command object which SourceManagerParser returns in its <code>parseCommand(String userInput)</code> method.
Typically, a Command object operates on the Model (e.g. AddCommand calls <code>model.addSource()</code>).
However, meta-commands operate on the AliasManager, and not the model.
Therefore, for this purpose, we created a class <code>DummyCommand</code> which nominally extends <code>Command</code>, but actually does nothing except return a CommandResult object to display feedback to the user. This promotes transparency and compatibility.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Finally, we create a <code>CommandValidator</code> interface.
AliasManager uses the CommandValidator for two purposes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Validate a command before registering an alias to it</p>
</li>
<li>
<p>Ensure that a command isn&#8217;t designated as an un-aliasable command</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>We chose this implementation and design pattern for several reasons:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>By designating an object as a CommandValidator, we are able to avoid hardcoding the list of valid and un-aliasable commands into AliasManager.
This makes for a more reusable component and improves testability and maintainability. It also embodies the Open-Closed Principle.</p>
</li>
<li>
<p>Typically, the SourceManagerParser (which by definition should know about the various valid commands) is the designated CommandValidator.
However, the SourceManagerParser also has an association with the AliasManager.
By creating an interface, we avoid a situation of circular dependency whereby both components are tightly coupled to each other.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="aliasing-feature-operation"><a class="link" href="#aliasing-feature-operation">Aliasing feature: operation</a></h4>
<div class="sect4">
<h5 id="meta-commands"><a class="link" href="#meta-commands">Meta-commands</a></h5>
<div class="paragraph">
<p>When a meta-command is detected to have been entered, SourceManagerParser delegates it to the appropriate AliasMetaCommandParser to handle.
For instance, <code>alias FOO BAR</code> is delegated to the AliasAddMetaCommandParser (a concrete subclass of AliasMetaCommandParser) with the arguments "FOO BAR".
The appropriate AliasMetaCommandParser parses the arguments and returns a DummyCommand response object.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram illustrates the operation of the "add alias" meta-command (assuming that valid user input is provided).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AliasManagerMetaCommandSequenceDiagram.png" alt="AliasManagerMetaCommandSequenceDiagram" width="800">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This delegation design pattern is chosen for 2 reasons:
Firstly, it hides complexity in SourceManagerParser by abstracting the logic of interacting with AliasManager away.
This makes SourceManagerParser more readable, declarative, and maintainable.
This also allows us to practice the Single Responsibility Principle and Single Layer of Abstraction Principle, among others.
Secondly, it improves testability by facilitating unit testing of smaller blocks of logic, rather than a single giant block.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If user input is valid, the AliasMetaCommandParser, which stores a reference to the AliasManager object, operates on it through the AliasManager API.</p>
</div>
</div>
<div class="sect4">
<h5 id="aliases"><a class="link" href="#aliases">Aliases</a></h5>
<div class="paragraph">
<p>In normal operation, when the user enters an alias, SourceManagerParser parses the user input to extract the "command word".
It checks whether the "command word" is a pre-existing alias using AliasManager&#8217;s <code>isAlias()</code> method.
If so, it fetches the original command that the alias is associated to using AliasManager&#8217;s <code>getCommand()</code> method.</p>
</div>
<div class="paragraph">
<p>Finally, SourceManagerParser recursively calls itself once using the original command retrieved from AliasManager to execute the original command that the alias is associated with.</p>
</div>
<div class="paragraph">
<p>This sequence diagram provides a high-level overview of this operation. Finer-level details have been omitted.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AliasManagerSequenceDiagram.png" alt="AliasManagerSequenceDiagram" width="800">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
AliasManager doesn&#8217;t allow the aliasing of invalid commands, nor the aliasing of an alias.
This is to guard against the risk of an infinite loop, e.g. where <code>alias1</code> is the alias of <code>alias2</code>, which is the alias of <code>alias1</code>.
With the current implementation, we can be assured that the recursion depth is at most 2.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="persistence-feature-implementation"><a class="link" href="#persistence-feature-implementation">Persistence feature: implementation</a></h4>
<div class="paragraph">
<p>The usefulness of aliases would be significantly diminished if they do not persist between sessions.
Therefore, we want aliases to be stored on disk and automatically loaded in future sessions on application startup.</p>
</div>
<div class="paragraph">
<p>To accomplish this, we create an <code>AliasStorage</code> interface, and an implementing class <code>ConcreteAliasStorage</code>.
We also modify ConcreteAliasManager to accept an AliasStorage object during its instantiation.
To facilitate unit testing, we allow a <code>null</code> AliasStorage object which disables data persistence.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The motivations for this design pattern is similar to the discussion above for creating the AliasManager interface.
Essentially, we want to decouple components as much as possible, support dependency injection, and improve testability and maintainability.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>ConcreteAliasStorage is responsible for reading/writing from/to disk,
and therefore converting the in-memory database (HashMap object) of aliases into/from an encoded representation.
When AliasManager&#8217;s aliases database is mutated (i.e. create or remove alias), it calls ConcreteAliasStorage&#8217;s <code>saveAliases()</code> method.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<strong>Alternative:</strong> A more elegant implementation would be to apply the observer pattern,
with the observer observing the aliases HashMap database, and calling <code>saveAliases()</code> when it is mutated.
However, given the simplicity of AliasManager, we believe that applying the observer pattern will result in unnecessary overhead,
with minimal (or no) tangible benefits.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Within ConcreteAliasStorage, its <code>saveAliases()</code> method encodes aliases and commands into a string,
in the following format: <code>alias1:command1;alias2:command2;alias3:command3</code>.
Conversely, <code>readAliases()</code> parses this string and reconstructs the aliases HashMap database.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<strong>Alternative:</strong> We opted to use our own very simple encoding scheme instead of JSON.
JSON is more suited for "document-like" objects with different properties, some of which are possibly nested multiple layers.
However, in our case, we only have a series of key:value pairs, in a predictable form, with no nesting.
Therefore, we thought that a simple semicolon-separated key:value pair encoding scheme would suffice.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="projects"><a class="link" href="#projects">PROJECTS</a></h2>
<div class="sectionbody">
<hr>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-04-15 09:56:06 UTC</div></div></div></body></html>